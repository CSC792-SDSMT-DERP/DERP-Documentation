\section{Language Modes}

The DERP language is defined in terms of different modes of operation.
Switching to a new mode is achieved through the use of certain expressions
which are specific to the current mode. When a mode is triggered, the
subset of the language that is valid may change. The next sections give
a brief description of each mode, as well as the statements used to switch between them.


\subsection{Main Mode}

As the name implies, this is the mode that a DERP interpreter should begin in. In this mode,
statements that change the loaded plugins, output the instructions for a saved query, read a
saved query, clear the currently saved result, or begin query/criteria creation are all valid.
See section \ref{mainmode} for more details about Main Mode statements.
%%%%%%REFRENCE A SECTION NUMBER%%%%%%%%%%%%

Use a \nonterminal{create\_expression} with the selection keyword to switch from Main Mode to Selection Mode
\begin{itemize}[leftmargin=2in]
    \item[\nonterminal{create\_expression}] \bnf{:} \terminal{create} \nonterminal{article}\bnf{?} \nonterminal{new}\bnf{?} \terminal{selection}
\end{itemize}

Use a \nonterminal{create\_expression} with the criteria keyword to switch from Main Mode to Criteria Mode
\begin{itemize}[leftmargin=2in]
    \item[\nonterminal{create\_expression}] \bnf{:} \terminal{create} \nonterminal{article}\bnf{?} \nonterminal{new}\bnf{?} \terminal{criteria}
\end{itemize}

To end your DERP program or close the DERP interpreter use a \nonterminal{stop\_expression} in Main Mode
\begin{itemize}[leftmargin=2in]
    \item[\nonterminal{stop\_expression}] \bnf{:} \terminal{stop} \bnf{|} \terminal{exit}
\end{itemize}

\subsection{Selection Mode}

Selection mode is used to create a new selection statement which can be executed at a later time from Main Mode.
While in Selection Mode, statements which build the query, read the query statements, save the query, or exit
Selection Mode are all valid. See section \ref{Selection_Mode} for more details about Selection Mode statements.
%%%%REFREENCE A SECTION NUMBER %%%%%%%%%%%%%%%%%%

To exit Selection Mode (and return to Main Mode), use a \nonterminal{stop\_expression}.

\subsection{Criteria Mode}
Criteria mode is very similar to selection mode; it is used to create criteria rather than selections.
The difference between a criterion and a selection is that a criterion cannot be specific to any source;
it is a filter that can be applied to a selection, but it is not a valid selection on its own.
See section \ref{Criteria_Mode} for more details about Criteria Mode statements.
%%%%%REFRENCE A SECTION NUMBER%%%%%%%%

To exit Criteria Mode (and return to Main Mode), use a \nonterminal{stop\_expression}.
